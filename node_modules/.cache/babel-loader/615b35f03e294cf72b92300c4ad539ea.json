{"ast":null,"code":"import _regeneratorRuntime from \"/Users/video/Workspace/SzkolaReacta/redux/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\n\nvar _marked = /*#__PURE__*/_regeneratorRuntime.mark(fetchUsers),\n    _marked2 = /*#__PURE__*/_regeneratorRuntime.mark(usersWatcher),\n    _marked3 = /*#__PURE__*/_regeneratorRuntime.mark(rootSaga);\n\nimport { call, put, takeEvery, takeLatest, all } from 'redux-saga/effects';\nimport { fetchSucceded, fetchFailed } from './users/redux';\nimport { FETCH_USERS_REQUESTED } from './users/redux';\n\nfunction fetchUsers(action) {\n  var users;\n  return _regeneratorRuntime.wrap(function fetchUsers$(_context) {\n    while (1) switch (_context.prev = _context.next) {\n      case 0:\n        _context.prev = 0;\n        _context.next = 3;\n        return fetch('https://jsonplaceholder.typicode.com/users').then(response => response.json());\n\n      case 3:\n        users = _context.sent;\n        _context.next = 6;\n        return put(fetchSucceded(users.slice(0, 5)));\n\n      case 6:\n        _context.next = 12;\n        break;\n\n      case 8:\n        _context.prev = 8;\n        _context.t0 = _context[\"catch\"](0);\n        _context.next = 12;\n        return put(fetchFailed());\n\n      case 12:\n      case \"end\":\n        return _context.stop();\n    }\n  }, _marked, null, [[0, 8]]);\n}\n\nfunction usersWatcher() {\n  return _regeneratorRuntime.wrap(function usersWatcher$(_context2) {\n    while (1) switch (_context2.prev = _context2.next) {\n      case 0:\n        _context2.next = 2;\n        return takeLatest(FETCH_USERS_REQUESTED, fetchUsers);\n\n      case 2:\n      case \"end\":\n        return _context2.stop();\n    }\n  }, _marked2);\n}\n\nexport default function rootSaga() {\n  return _regeneratorRuntime.wrap(function rootSaga$(_context3) {\n    while (1) switch (_context3.prev = _context3.next) {\n      case 0:\n        _context3.next = 2;\n        return all([usersWatcher()]);\n\n      case 2:\n      case \"end\":\n        return _context3.stop();\n    }\n  }, _marked3);\n}","map":{"version":3,"sources":["/Users/video/Workspace/SzkolaReacta/redux/src/rootSaga.js"],"names":["fetchUsers","usersWatcher","rootSaga","call","put","takeEvery","takeLatest","all","fetchSucceded","fetchFailed","FETCH_USERS_REQUESTED","action","fetch","then","response","json","users","slice"],"mappings":";;oDAKUA,U;qDAWAC,Y;qDAIeC,Q;;AApBzB,SAASC,IAAT,EAAeC,GAAf,EAAoBC,SAApB,EAA+BC,UAA/B,EAA2CC,GAA3C,QAAsD,oBAAtD;AAEA,SAASC,aAAT,EAAwBC,WAAxB,QAA2C,eAA3C;AACA,SAASC,qBAAT,QAAsC,eAAtC;;AAEA,SAAUV,UAAV,CAAqBW,MAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEmB,eAAMC,KAAK,CAAC,4CAAD,CAAL,CAClBC,IADkB,CACbC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADC,CAAN;;AAFnB;AAEWC,QAAAA,KAFX;AAAA;AAKK,eAAMZ,GAAG,CAACI,aAAa,CAACQ,KAAK,CAACC,KAAN,CAAY,CAAZ,EAAe,CAAf,CAAD,CAAd,CAAT;;AALL;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAOK,eAAMb,GAAG,CAACK,WAAW,EAAZ,CAAT;;AAPL;AAAA;AAAA;AAAA;AAAA;AAAA;;AAWA,SAAUR,YAAV;AAAA;AAAA;AAAA;AAAA;AACE,eAAMK,UAAU,CAACI,qBAAD,EAAwBV,UAAxB,CAAhB;;AADF;AAAA;AAAA;AAAA;AAAA;AAAA;;AAIA,eAAe,SAAUE,QAAV;AAAA;AAAA;AAAA;AAAA;AACb,eAAMK,GAAG,CAAC,CACRN,YAAY,EADJ,CAAD,CAAT;;AADa;AAAA;AAAA;AAAA;AAAA;AAAA","sourcesContent":["import { call, put, takeEvery, takeLatest, all } from 'redux-saga/effects';\n\nimport { fetchSucceded, fetchFailed } from './users/redux';\nimport { FETCH_USERS_REQUESTED } from './users/redux';\n\nfunction* fetchUsers(action) {\n  try {\n     const users = yield fetch('https://jsonplaceholder.typicode.com/users')\n      .then(response => response.json());\n\n     yield put(fetchSucceded(users.slice(0, 5)));\n  } catch (e) {\n     yield put(fetchFailed());\n  }\n}\n\nfunction* usersWatcher() {\n  yield takeLatest(FETCH_USERS_REQUESTED, fetchUsers);\n}\n\nexport default function* rootSaga() {\n  yield all([\n    usersWatcher()\n  ]);\n}\n"]},"metadata":{},"sourceType":"module"}